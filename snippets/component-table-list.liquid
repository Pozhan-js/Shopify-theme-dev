{% comment %}
  表格列表组件
  参数:
  - section: 包含表格数据的section对象
{% endcomment %}

{%- assign table_data = section.settings.table_data | default: [] -%}
{%- assign table_headers = section.settings.table_headers | default: [] -%}

<div class="table-container">
  <table class="responsive-table">
    {% if table_headers.size > 0 %}
      <thead>
        <tr>
          {% for header in table_headers %}
            <th>{{ header }}</th>
          {% endfor %}
        </tr>
      </thead>
    {% endif %}
    
    <tbody>
      {% for row in table_data %}
        <tr>
          {% for cell in row %}
            <td data-label="{% if table_headers[forloop.index0] %}{{ table_headers[forloop.index0] }}{% else %}列{% endif %}{{ forloop.index }}">
              {{ cell }}
            </td>
          {% endfor %}
        </tr>
      {% endfor %}
    </tbody>
  </table>
</div>

<style>
  .table-container {
    overflow-x: auto;
    margin: 20px 0;
  }
  
  .responsive-table {
    width: 100%;
    border-collapse: collapse;
  }
  
  .responsive-table th,
  .responsive-table td {
    padding: 12px 15px;
    text-align: left;
    border-bottom: 1px solid #e0e0e0;
  }
  
  .responsive-table th {
    background-color: #f5f5f5;
    font-weight: 600;
  }
  
  @media screen and (max-width: 768px) {
    .responsive-table thead {
      display: none;
    }
    
    .responsive-table tr {
      display: block;
      margin-bottom: 15px;
      border: 1px solid #e0e0e0;
    }
    
    .responsive-table td {
      display: flex;
      justify-content: space-between;
      text-align: right;
      padding-left: 50%;
      position: relative;
    }
    
    .responsive-table td::before {
      content: attr(data-label);
      position: absolute;
      left: 15px;
      font-weight: 600;
    }
  }
</style>
