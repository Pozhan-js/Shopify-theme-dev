<div class="company-intro-section" id="section-{{ section.id }}">
  <div class="container">
    {% if section.settings.show_title %}
      <div class="section-header">
        <h2 class="section-title">{{ section.settings.title | default: '关于我们' }}</h2>
        {% if section.settings.subtitle != blank %}
          <p class="section-subtitle">{{ section.settings.subtitle }}</p>
        {% endif %}
      </div>
    {% endif %}

    <div class="company-content">
      <div class="company-grid">
        {% if section.settings.company_image != blank %}
          <div class="company-image">
            <img
              src="{{ section.settings.company_image | img_url: '600x400' }}"
              alt="{{ section.settings.company_image.alt | default: section.settings.title }}"
              loading="lazy"
            >
          </div>
        {% endif %}

        <div class="company-info">
          {% if section.settings.company_description != blank %}
            <div class="company-description">
              {{ section.settings.company_description }}
            </div>
          {% endif %}

          {% if section.blocks.size > 0 %}
            <div class="company-highlights">
              {% for block in section.blocks %}
                {% case block.type %}
                  {% when 'highlight' %}
                    <div class="highlight-item" {{ block.shopify_attributes }}>
                      {% if block.settings.icon != blank %}
                        <div class="highlight-icon">
                          <img
                            src="{{ block.settings.icon | img_url: '60x60' }}"
                            alt="{{ block.settings.title }}"
                          >
                        </div>
                      {% endif %}
                      <div class="highlight-content">
                        {% if block.settings.title != blank %}
                          <h3 class="highlight-title">{{ block.settings.title }}</h3>
                        {% endif %}
                        {% if block.settings.description != blank %}
                          <p class="highlight-description">{{ block.settings.description }}</p>
                        {% endif %}
                      </div>
                    </div>
                {% endcase %}
              {% endfor %}
            </div>
          {% endif %}

          {% if section.settings.show_button and section.settings.button_text != blank %}
            <div class="company-action">
              <a
                href="{{ section.settings.button_link | default: '#' }}"
                class="btn btn-primary"
              >
                {{ section.settings.button_text }}
              </a>
            </div>
          {% endif %}
        </div>
      </div>
    </div>
  </div>
</div>

<style>
  .company-intro-section {
    padding: 60px 0;
    background-color: {{ section.settings.background_color | default: '#ffffff' }};
  }

  .container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 20px;
  }

  .section-header {
    text-align: center;
    margin-bottom: 50px;
  }

  .section-title {
    font-size: 2.5rem;
    font-weight: 700;
    color: {{ section.settings.title_color | default: '#333333' }};
    margin-bottom: 15px;
  }

  .section-subtitle {
    font-size: 1.2rem;
    color: {{ section.settings.subtitle_color | default: '#666666' }};
    max-width: 600px;
    margin: 0 auto;
  }

  .company-grid {
    display: grid;
    grid-template-columns: {% if section.settings.company_image != blank %}1fr 1fr{% else %}1fr{% endif %};
    gap: 50px;
    align-items: center;
  }

  .company-image img {
    width: 100%;
    height: auto;
    border-radius: 8px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
  }

  .company-description {
    font-size: 1.1rem;
    line-height: 1.8;
    color: {{ section.settings.text_color | default: '#555555' }};
    margin-bottom: 30px;
  }

  .company-highlights {
    margin-bottom: 30px;
  }

  .highlight-item {
    display: flex;
    align-items: flex-start;
    margin-bottom: 25px;
    padding: 20px;
    background-color: #f8f9fa;
    border-radius: 8px;
    transition: transform 0.3s ease;
  }

  .highlight-item:hover {
    transform: translateY(-2px);
  }

  .highlight-icon {
    margin-right: 20px;
    flex-shrink: 0;
  }

  .highlight-icon img {
    width: 50px;
    height: 50px;
  }

  .highlight-title {
    font-size: 1.3rem;
    font-weight: 600;
    color: #333333;
    margin-bottom: 8px;
  }

  .highlight-description {
    color: #666666;
    line-height: 1.6;
  }

  .company-action {
    margin-top: 30px;
  }

  .btn {
    display: inline-block;
    padding: 15px 30px;
    text-decoration: none;
    border-radius: 5px;
    font-weight: 600;
    transition: all 0.3s ease;
  }

  .btn-primary {
    background-color: {{ section.settings.button_color | default: '#007bff' }};
    color: white;
  }

  .btn-primary:hover {
    background-color: {{ section.settings.button_hover_color | default: '#0056b3' }};
    transform: translateY(-2px);
  }

  @media (max-width: 768px) {
    .company-intro-section {
      padding: 40px 0;
    }

    .company-grid {
      grid-template-columns: 1fr;
      gap: 30px;
    }

    .section-title {
      font-size: 2rem;
    }

    .highlight-item {
      flex-direction: column;
      text-align: center;
    }

    .highlight-icon {
      margin-right: 0;
      margin-bottom: 15px;
    }
  }
</style>

{% schema %}
{
  "name": "公司介绍",
  "tag": "section",
  "class": "company-intro-section",
  "settings": [
    {
      "type": "header",
      "content": "标题设置"
    },
    {
      "type": "checkbox",
      "id": "show_title",
      "label": "显示标题",
      "default": true
    },
    {
      "type": "text",
      "id": "title",
      "label": "标题",
      "default": "关于我们"
    },
    {
      "type": "textarea",
      "id": "subtitle",
      "label": "副标题",
      "info": "可选的副标题描述"
    },
    {
      "type": "header",
      "content": "内容设置"
    },
    {
      "type": "image_picker",
      "id": "company_image",
      "label": "公司图片"
    },
    {
      "type": "richtext",
      "id": "company_description",
      "label": "公司描述",
      "default": "<p>我们是一家专注于创新和品质的公司，致力于为客户提供最优质的产品和服务。</p>"
    },
    {
      "type": "header",
      "content": "按钮设置"
    },
    {
      "type": "checkbox",
      "id": "show_button",
      "label": "显示按钮",
      "default": true
    },
    {
      "type": "text",
      "id": "button_text",
      "label": "按钮文字",
      "default": "了解更多"
    },
    {
      "type": "url",
      "id": "button_link",
      "label": "按钮链接"
    },
    {
      "type": "header",
      "content": "样式设置"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "背景颜色",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "title_color",
      "label": "标题颜色",
      "default": "#333333"
    },
    {
      "type": "color",
      "id": "subtitle_color",
      "label": "副标题颜色",
      "default": "#666666"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "文字颜色",
      "default": "#555555"
    },
    {
      "type": "color",
      "id": "button_color",
      "label": "按钮颜色",
      "default": "#007bff"
    },
    {
      "type": "color",
      "id": "button_hover_color",
      "label": "按钮悬停颜色",
      "default": "#0056b3"
    }
  ],
  "blocks": [
    {
      "type": "highlight",
      "name": "亮点特色",
      "settings": [
        {
          "type": "image_picker",
          "id": "icon",
          "label": "图标"
        },
        {
          "type": "text",
          "id": "title",
          "label": "标题",
          "default": "专业团队"
        },
        {
          "type": "textarea",
          "id": "description",
          "label": "描述",
          "default": "拥有多年行业经验的专业团队"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "公司介绍",
      "blocks": [
        {
          "type": "highlight",
          "settings": {
            "title": "专业团队",
            "description": "拥有多年行业经验的专业团队"
          }
        },
        {
          "type": "highlight",
          "settings": {
            "title": "优质服务",
            "description": "7x24小时全天候客户服务支持"
          }
        },
        {
          "type": "highlight",
          "settings": {
            "title": "创新技术",
            "description": "持续投入研发，保持技术领先优势"
          }
        }
      ]
    }
  ]
}
{% endschema %}
