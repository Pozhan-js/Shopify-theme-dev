{%- style -%}
  .custom-link-list {
    background: {{ section.settings.bg_color }};
    padding: {{ section.settings.padding_top }}px {{ section.settings.padding_right }}px {{ section.settings.padding_bottom }}px {{ section.settings.padding_left }}px;
  }

  .link-list-container {
    display: flex;
    flex-wrap: wrap;
    gap: {{ section.settings.item_gap }}px;
    max-width: {{ section.settings.max_width }}px;
    margin: 0 auto;
  }

  .link-list-column {
    flex: 0 0 calc(100% / {{ section.settings.columns }} - {{ section.settings.item_gap }}px);
  }

  .link-item {
    margin-bottom: {{ section.settings.item_spacing }}px;
    font-family: {{ section.settings.font_family }};
    font-size: {{ section.settings.font_size }}px;
    color: {{ section.settings.text_color }};
  }

  .link-item a {
    color: inherit;
    text-decoration: none;
    transition: color 0.3s ease;
  }

  .link-item a:hover {
    color: {{ section.settings.hover_color }};
  }
{%- endstyle -%}

<div class="custom-link-list">
  <div class="page-width">
    {% if section.settings.title != blank %}
      <h2 class="section-title">{{ section.settings.title }}</h2>
    {% endif %}

    <div class="link-list-container">
      {% for block in section.blocks %}
        <div class="link-list-column">
          {% if block.settings.heading != blank %}
            <h3 class="link-heading">{{ block.settings.heading }}</h3>
          {% endif %}
          
          {% if block.settings.links != blank %}
            {% assign links = block.settings.links | newline_to_br | split: '<br />' %}
            {% for link in links %}
              {% if link != blank %}
                <div class="link-item">
                  <a href="{{ block.settings.url }}">{{ link }}</a>
                </div>
              {% endif %}
            {% endfor %}
          {% endif %}
        </div>
      {% endfor %}
    </div>
  </div>
</div>

{% schema %}
{
  "name": "Custom Link List",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "Heading",
      "default": "Archive Links"
    },
    {
      "type": "range",
      "id": "columns",
      "min": 1,
      "max": 6,
      "step": 1,
      "label": "Number of columns",
      "default": 3
    },
    {
      "type": "color",
      "id": "bg_color",
      "label": "Background color",
      "default": "#f8f8f8"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text color",
      "default": "#333333"
    },
    {
      "type": "color",
      "id": "hover_color",
      "label": "Hover color",
      "default": "#0066cc"
    },
    {
      "type": "range",
      "id": "font_size",
      "min": 12,
      "max": 24,
      "step": 1,
      "label": "Font size (px)",
      "default": 16
    },
    {
      "type": "select",
      "id": "font_family",
      "label": "Font family",
      "options": [
        {
          "value": "inherit",
          "label": "Default"
        },
        {
          "value": "'Helvetica Neue', Arial, sans-serif",
          "label": "Helvetica/Arial"
        },
        {
          "value": "Georgia, serif",
          "label": "Georgia"
        },
        {
          "value": "'Courier New', monospace",
          "label": "Courier"
        }
      ],
      "default": "inherit"
    },
    {
      "type": "range",
      "id": "item_spacing",
      "min": 0,
      "max": 30,
      "step": 1,
      "label": "Item spacing (px)",
      "default": 10
    },
    {
      "type": "range",
      "id": "item_gap",
      "min": 0,
      "max": 50,
      "step": 1,
      "label": "Column gap (px)",
      "default": 20
    },
    {
      "type": "range",
      "id": "max_width",
      "min": 800,
      "max": 1600,
      "step": 20,
      "label": "Max width (px)",
      "default": 1200
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 100,
      "step": 5,
      "label": "Top padding (px)",
      "default": 30
    },
    {
      "type": "range",
      "id": "padding_right",
      "min": 0,
      "max": 100,
      "step": 5,
      "label": "Right padding (px)",
      "default": 20
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 100,
      "step": 5,
      "label": "Bottom padding (px)",
      "default": 30
    },
    {
      "type": "range",
      "id": "padding_left",
      "min": 0,
      "max": 100,
      "step": 5,
      "label": "Left padding (px)",
      "default": 20
    }
  ],
  "blocks": [
    {
      "type": "link_group",
      "name": "Link group",
      "settings": [
        {
          "type": "text",
          "id": "heading",
          "label": "Heading",
          "default": "Category"
        },
        {
          "type": "textarea",
          "id": "links",
          "label": "Links (one per line)",
          "default": "Link 1\nLink 2\nLink 3"
        },
        {
          "type": "url",
          "id": "url",
          "label": "Link URL"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Custom Link List",
      "blocks": [
        {
          "type": "link_group",
          "settings": {
            "heading": "Archive",
            "links": "January 2023\nFebruary 2023\nMarch 2023",
            "url": "/blogs/news"
          }
        },
        {
          "type": "link_group",
          "settings": {
            "heading": "Glossary",
            "links": "Term 1\nTerm 2\nTerm 3",
            "url": "/pages/glossary"
          }
        }
      ]
    }
  ]
}
{% endschema %}
